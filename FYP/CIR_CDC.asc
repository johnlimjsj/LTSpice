Version 4
SHEET 1 3520 3184
WIRE 1216 144 1104 144
WIRE 1216 160 1216 144
WIRE 1104 208 1104 144
WIRE 1056 224 928 224
WIRE 928 240 928 224
WIRE 1056 272 1024 272
WIRE -1616 368 -1616 352
WIRE -1264 368 -1616 368
WIRE -928 368 -1264 368
WIRE -608 368 -928 368
WIRE -288 368 -608 368
WIRE 32 368 -288 368
WIRE 336 368 32 368
WIRE 592 368 336 368
WIRE 976 368 592 368
WIRE 1104 368 1104 288
WIRE 1104 368 976 368
WIRE -1616 432 -1616 368
WIRE -1264 448 -1264 368
WIRE -928 448 -928 368
WIRE -608 448 -608 368
WIRE -288 448 -288 368
WIRE 32 448 32 368
WIRE 336 448 336 368
WIRE 976 448 976 368
WIRE 592 464 592 368
WIRE -1616 624 -1616 496
WIRE -1664 640 -1728 640
WIRE -1264 640 -1264 512
WIRE -928 640 -928 512
WIRE -608 640 -608 512
WIRE -288 640 -288 512
WIRE 32 640 32 512
WIRE 336 640 336 512
WIRE -1728 656 -1728 640
WIRE -1312 656 -1376 656
WIRE -976 656 -1040 656
WIRE -656 656 -720 656
WIRE -336 656 -400 656
WIRE -16 656 -80 656
WIRE 288 656 224 656
WIRE 592 656 592 528
WIRE -1376 672 -1376 656
WIRE -1040 672 -1040 656
WIRE -720 672 -720 656
WIRE -400 672 -400 656
WIRE -80 672 -80 656
WIRE 224 672 224 656
WIRE 544 672 480 672
WIRE -1680 688 -1696 688
WIRE -1664 688 -1680 688
WIRE 480 688 480 672
WIRE -1328 704 -1344 704
WIRE -1312 704 -1328 704
WIRE -992 704 -1008 704
WIRE -976 704 -992 704
WIRE -656 704 -688 704
WIRE -352 704 -368 704
WIRE -336 704 -352 704
WIRE -32 704 -48 704
WIRE -16 704 -32 704
WIRE 272 704 256 704
WIRE 288 704 272 704
WIRE 528 720 512 720
WIRE 544 720 528 720
WIRE -1616 832 -1616 704
WIRE -1264 848 -1264 720
WIRE -928 848 -928 720
WIRE -608 848 -608 720
WIRE -288 848 -288 720
WIRE 32 848 32 720
WIRE 336 848 336 720
WIRE 592 864 592 736
WIRE 976 880 976 512
WIRE -1520 896 -1552 896
WIRE -1168 912 -1200 912
WIRE -832 912 -864 912
WIRE -512 912 -544 912
WIRE -192 912 -224 912
WIRE 128 912 96 912
WIRE 432 912 400 912
WIRE 432 928 432 912
WIRE 688 928 656 928
WIRE 1120 944 1040 944
WIRE -1632 1040 -1632 960
WIRE -1600 1040 -1600 960
WIRE -1280 1056 -1280 976
WIRE -1248 1056 -1248 976
WIRE -944 1056 -944 976
WIRE -912 1056 -912 976
WIRE -624 1056 -624 976
WIRE -592 1056 -592 976
WIRE -304 1056 -304 976
WIRE -272 1056 -272 976
WIRE 16 1056 16 976
WIRE 48 1056 48 976
WIRE 320 1056 320 976
WIRE 352 1056 352 976
WIRE 576 1072 576 992
WIRE 608 1072 608 992
WIRE 960 1088 960 1008
WIRE 992 1088 992 1008
WIRE -896 1680 -896 1600
WIRE -624 1680 -624 1600
WIRE -896 1808 -896 1760
WIRE -624 1808 -624 1760
WIRE 96 1920 96 1728
WIRE -624 2032 -624 1952
WIRE -992 2128 -992 2048
WIRE -624 2160 -624 2112
WIRE -16 2192 -16 2112
WIRE -992 2256 -992 2208
WIRE -16 2320 -16 2272
WIRE -1008 2512 -1008 2432
WIRE -1008 2640 -1008 2592
FLAG -896 1808 0
FLAG -896 1600 Vdd
FLAG 1216 160 0
FLAG -624 1808 0
FLAG -624 1600 sig
FLAG -992 2256 0
FLAG -992 2048 phi1
FLAG -624 2160 0
FLAG -624 1952 phi2
FLAG 1024 272 phi1
FLAG 928 240 0
FLAG -1008 2640 0
FLAG -1008 2432 b0
FLAG 976 368 Vxx
FLAG -16 2320 0
FLAG -16 2112 phi2_
FLAG 272 704 b0
FLAG 224 672 0
FLAG 528 720 b0
FLAG 480 688 0
FLAG 960 1088 0
FLAG 992 1088 Vdd
FLAG 1120 944 phi2
FLAG 320 1056 0
FLAG 352 1056 Vdd
FLAG 576 1072 0
FLAG 608 1072 Vdd
FLAG 688 928 0
FLAG -32 704 b0
FLAG -80 672 0
FLAG 16 1056 0
FLAG 48 1056 Vdd
FLAG 128 912 0
FLAG -352 704 b0
FLAG -400 672 0
FLAG -304 1056 0
FLAG -272 1056 Vdd
FLAG -192 912 0
FLAG -720 672 0
FLAG -624 1056 0
FLAG -592 1056 Vdd
FLAG -512 912 0
FLAG -1040 672 0
FLAG -944 1056 0
FLAG -912 1056 Vdd
FLAG -1328 704 b0
FLAG -1376 672 0
FLAG -1280 1056 0
FLAG -1248 1056 Vdd
FLAG -992 704 b0
FLAG -688 704 b0
FLAG 96 1920 0
FLAG 432 928 0
FLAG -1168 912 b0
FLAG -1680 688 b0
FLAG -1728 656 0
FLAG -1632 1040 0
FLAG -1600 1040 Vdd
FLAG -1520 896 b0
FLAG -832 912 b0
SYMBOL voltage -896 1664 R0
WINDOW 3 -31 -10 Left 2
WINDOW 0 24 16 Left 2
SYMATTR Value 5
SYMATTR InstName V11
SYMBOL cap 960 448 R0
SYMATTR InstName Csensor
SYMATTR Value {c_lsb}
SYMBOL voltage -624 1664 R0
WINDOW 3 -196 -32 Left 2
WINDOW 0 24 16 Left 2
SYMATTR Value PULSE(0 3 0 1n 1n 1m 2m 1)
SYMATTR InstName V1
SYMBOL voltage -624 2016 R0
WINDOW 3 -196 -32 Left 2
WINDOW 0 24 16 Left 2
SYMATTR Value PULSE(0 3 {t_delay} 1n 1n {t_on+t_offset} {t_period} 1)
SYMATTR InstName V3
SYMBOL voltage -992 2112 R0
WINDOW 3 -196 -32 Left 2
WINDOW 0 24 16 Left 2
SYMATTR Value PULSE(0 3 {t_delay} 1n 1n {t_on} {t_period} 1)
SYMATTR InstName V2
SYMBOL sw 1104 192 R0
SYMATTR InstName S1
SYMBOL voltage -1008 2496 R0
WINDOW 3 -196 -32 Left 2
WINDOW 0 24 16 Left 2
SYMATTR Value PULSE(0 3 {t_delay+t_on+t_offset*4} 1n 1n {t_on} {t_period} 1)
SYMATTR InstName V4
SYMBOL voltage -16 2176 R0
WINDOW 3 -196 -32 Left 2
WINDOW 0 24 16 Left 2
SYMATTR Value PULSE(0 3 {t_delay+t_on+t_offset*1.05} 1n 1n {t_period-t_on+t_offset} {t_period} 1)
SYMATTR InstName V5
SYMBOL sw 336 624 R0
SYMATTR InstName S4
SYMBOL sw 592 640 R0
SYMATTR InstName S5
SYMBOL COM_SPDT 976 976 R270
WINDOW 0 48 -64 Invisible 2
SYMATTR InstName X1
SYMBOL COM_CAP 592 496 R180
WINDOW 0 32 16 Center 2
WINDOW 3 -28 0 VBottom 2
SYMATTR InstName X2
SYMATTR Value C={1*c_lsb}
SYMBOL COM_CAP 336 480 R180
WINDOW 0 32 16 Center 2
WINDOW 3 -28 0 VBottom 2
SYMATTR InstName X3
SYMATTR Value C={2*c_lsb}
SYMBOL COM_SPDT 336 944 R270
WINDOW 0 48 -64 Invisible 2
SYMATTR InstName X4
SYMBOL COM_SPDT 592 960 R270
WINDOW 0 48 -64 Invisible 2
SYMATTR InstName X5
SYMBOL sw 32 624 R0
SYMATTR InstName S2
SYMBOL COM_CAP 32 480 R180
WINDOW 0 32 16 Center 2
WINDOW 3 -28 0 VBottom 2
SYMATTR InstName X6
SYMATTR Value C={4*c_lsb}
SYMBOL COM_SPDT 32 944 R270
WINDOW 0 48 -64 Invisible 2
SYMATTR InstName X7
SYMBOL sw -288 624 R0
SYMATTR InstName S3
SYMBOL COM_CAP -288 480 R180
WINDOW 0 32 16 Center 2
WINDOW 3 -28 0 VBottom 2
SYMATTR InstName X8
SYMATTR Value C={8*c_lsb}
SYMBOL COM_SPDT -288 944 R270
WINDOW 0 48 -64 Invisible 2
SYMATTR InstName X9
SYMBOL sw -608 624 R0
SYMATTR InstName S6
SYMBOL COM_CAP -608 480 R180
WINDOW 0 32 16 Center 2
WINDOW 3 -28 0 VBottom 2
SYMATTR InstName X10
SYMATTR Value C={16*c_lsb}
SYMBOL COM_SPDT -608 944 R270
WINDOW 0 48 -64 Invisible 2
SYMATTR InstName X11
SYMBOL sw -928 624 R0
SYMATTR InstName S7
SYMBOL COM_CAP -928 480 R180
WINDOW 0 32 16 Center 2
WINDOW 3 -28 0 VBottom 2
SYMATTR InstName X12
SYMATTR Value C={32*c_lsb}
SYMBOL COM_SPDT -928 944 R270
WINDOW 0 48 -64 Invisible 2
SYMATTR InstName X13
SYMBOL sw -1264 624 R0
SYMATTR InstName S8
SYMBOL COM_CAP -1264 480 R180
WINDOW 0 32 16 Center 2
WINDOW 3 -28 0 VBottom 2
SYMATTR InstName X14
SYMATTR Value C={64*c_lsb}
SYMBOL COM_SPDT -1264 944 R270
WINDOW 0 48 -64 Invisible 2
SYMATTR InstName X15
SYMBOL sw -1616 608 R0
SYMATTR InstName S9
SYMBOL COM_CAP -1616 464 R180
WINDOW 0 32 16 Center 2
WINDOW 3 -28 0 VBottom 2
SYMATTR InstName X16
SYMATTR Value C={128*c_lsb}
SYMBOL COM_SPDT -1616 928 R270
WINDOW 0 48 -64 Invisible 2
SYMATTR InstName X17
TEXT -280 3144 Left 2 !.tran {5m} {10m}
TEXT -272 2720 Left 2 !.model SW SW(Ron=5 Roff=10g Vt=1.1 Vh=0)
TEXT -280 3168 Left 2 ;.ac oct 100 1 10000k
TEXT -272 3096 Left 2 ;Analysis Commands
TEXT 1040 1832 Left 2 !;TIMING\n.param t_period 2m\n.param t_on 0.5m\n.param t_offset 0.1m\n.param t_delay 1m
TEXT 1048 2072 Left 2 !.ic V(c3_ic)=0\n.ic V(c2_ic)=0\n.ic V(c1_ic)=0\n.ic V(Vx)=0
TEXT 1440 1840 Left 2 !.param c_lsb 10n
