Version 4
SHEET 1 3520 3184
WIRE 1216 144 1104 144
WIRE 1216 160 1216 144
WIRE 1104 208 1104 144
WIRE 1056 224 928 224
WIRE 928 240 928 224
WIRE 1056 272 1024 272
WIRE -1184 368 -1184 352
WIRE -928 368 -1184 368
WIRE -688 368 -928 368
WIRE -432 368 -688 368
WIRE -192 368 -432 368
WIRE 80 368 -192 368
WIRE 336 368 80 368
WIRE 592 368 336 368
WIRE 976 368 592 368
WIRE 1040 368 976 368
WIRE 1104 368 1104 288
WIRE 1104 368 1040 368
WIRE 1280 368 1104 368
WIRE 1440 384 1376 384
WIRE 1280 400 1232 400
WIRE -1184 432 -1184 368
WIRE -928 448 -928 368
WIRE -688 448 -688 368
WIRE -432 448 -432 368
WIRE -192 448 -192 368
WIRE 80 448 80 368
WIRE 336 448 336 368
WIRE 592 464 592 368
WIRE 1232 464 1232 400
WIRE 1824 512 1760 512
WIRE 1824 544 1760 544
WIRE 1824 576 1760 576
WIRE 1232 592 1232 544
WIRE 1824 608 1760 608
WIRE -1184 624 -1184 496
WIRE 864 624 832 624
WIRE 1040 624 1040 368
WIRE 1040 624 992 624
WIRE 1440 624 1440 384
WIRE 1488 624 1440 624
WIRE -1232 640 -1296 640
WIRE -928 640 -928 512
WIRE -688 640 -688 512
WIRE -432 640 -432 512
WIRE -192 640 -192 512
WIRE 80 640 80 512
WIRE 336 640 336 512
WIRE 1824 640 1760 640
WIRE -1296 656 -1296 640
WIRE -976 656 -1040 656
WIRE -736 656 -800 656
WIRE -480 656 -544 656
WIRE -240 656 -304 656
WIRE 32 656 -32 656
WIRE 288 656 224 656
WIRE 592 656 592 528
WIRE -1040 672 -1040 656
WIRE -800 672 -800 656
WIRE -544 672 -544 656
WIRE -304 672 -304 656
WIRE -32 672 -32 656
WIRE 224 672 224 656
WIRE 544 672 480 672
WIRE 1824 672 1760 672
WIRE -1248 688 -1264 688
WIRE -1232 688 -1248 688
WIRE 480 688 480 672
WIRE -992 704 -1008 704
WIRE -976 704 -992 704
WIRE -752 704 -768 704
WIRE -736 704 -752 704
WIRE -480 704 -512 704
WIRE -256 704 -272 704
WIRE -240 704 -256 704
WIRE 16 704 0 704
WIRE 32 704 16 704
WIRE 272 704 256 704
WIRE 288 704 272 704
WIRE 928 704 928 672
WIRE 1824 704 1760 704
WIRE 528 720 512 720
WIRE 544 720 528 720
WIRE 1824 736 1760 736
WIRE 928 816 928 784
WIRE -1184 832 -1184 704
WIRE -928 848 -928 720
WIRE -688 848 -688 720
WIRE -432 848 -432 720
WIRE -192 848 -192 720
WIRE 80 848 80 720
WIRE 336 848 336 720
WIRE 592 864 592 736
WIRE 832 880 832 624
WIRE -1088 896 -1120 896
WIRE -832 912 -864 912
WIRE -592 912 -624 912
WIRE -336 912 -368 912
WIRE -96 912 -128 912
WIRE 176 912 144 912
WIRE 432 912 400 912
WIRE 688 928 656 928
WIRE 976 944 896 944
WIRE -1200 1040 -1200 960
WIRE -1168 1040 -1168 960
WIRE -944 1056 -944 976
WIRE -912 1056 -912 976
WIRE -704 1056 -704 976
WIRE -672 1056 -672 976
WIRE -448 1056 -448 976
WIRE -416 1056 -416 976
WIRE -208 1056 -208 976
WIRE -176 1056 -176 976
WIRE 64 1056 64 976
WIRE 96 1056 96 976
WIRE 320 1056 320 976
WIRE 352 1056 352 976
WIRE 576 1072 576 992
WIRE 608 1072 608 992
WIRE 816 1088 816 1008
WIRE 848 1088 848 1008
WIRE 288 1760 288 1680
WIRE 496 1760 496 1680
WIRE 288 1888 288 1840
WIRE 496 1888 496 1840
WIRE 288 2112 288 2032
WIRE 496 2112 496 2032
WIRE 288 2240 288 2192
WIRE 496 2240 496 2192
FLAG 288 1888 0
FLAG 288 1680 Vdd
FLAG 1216 160 0
FLAG 288 2240 0
FLAG 288 2032 phi1
FLAG 496 2240 0
FLAG 496 2032 phi2
FLAG 1024 272 phi1
FLAG 928 240 0
FLAG 976 368 Vxx
FLAG 496 1888 0
FLAG 496 1680 CONV
FLAG 272 704 CONV
FLAG 224 672 0
FLAG 528 720 CONV
FLAG 480 688 0
FLAG 816 1088 0
FLAG 848 1088 Vdd
FLAG 976 944 phi2
FLAG 320 1056 0
FLAG 352 1056 Vdd
FLAG 576 1072 0
FLAG 608 1072 Vdd
FLAG 16 704 CONV
FLAG -32 672 0
FLAG 64 1056 0
FLAG 96 1056 Vdd
FLAG 176 912 b5
FLAG -256 704 CONV
FLAG -304 672 0
FLAG -208 1056 0
FLAG -176 1056 Vdd
FLAG -96 912 b4
FLAG -544 672 0
FLAG -448 1056 0
FLAG -416 1056 Vdd
FLAG -336 912 b3
FLAG -800 672 0
FLAG -704 1056 0
FLAG -672 1056 Vdd
FLAG -992 704 CONV
FLAG -1040 672 0
FLAG -944 1056 0
FLAG -912 1056 Vdd
FLAG -752 704 CONV
FLAG -512 704 CONV
FLAG -832 912 b1
FLAG -1248 688 CONV
FLAG -1296 656 0
FLAG -1200 1040 0
FLAG -1168 1040 Vdd
FLAG -1088 896 b0
FLAG -592 912 b2
FLAG 928 816 0
FLAG 1232 592 0
FLAG 1824 512 b0
FLAG 1824 544 b1
FLAG 1824 576 b2
FLAG 1824 608 b3
FLAG 1824 640 b4
FLAG 1824 672 b5
FLAG 1824 704 b6
FLAG 1824 736 b7
FLAG 432 912 b6
FLAG 688 928 b7
SYMBOL voltage 288 1744 R0
WINDOW 3 -31 -10 Left 2
WINDOW 0 24 16 Left 2
SYMATTR Value 5
SYMATTR InstName V11
SYMBOL voltage 496 2096 R0
WINDOW 3 -196 -32 Invisible 2
WINDOW 0 24 16 Left 2
SYMATTR Value PULSE(0 3 {t_delay} 1n 1n {t_on+t_offset} {t_period} 1)
SYMATTR InstName V3
SYMBOL voltage 288 2096 R0
WINDOW 3 -196 -32 Invisible 2
WINDOW 0 24 16 Left 2
SYMATTR Value PULSE(0 3 {t_delay} 1n 1n {t_on} {t_period} 1)
SYMATTR InstName V2
SYMBOL sw 1104 192 R0
SYMATTR InstName S1
SYMBOL voltage 496 1744 R0
WINDOW 3 -196 -32 Invisible 2
WINDOW 0 24 16 Left 2
SYMATTR Value PULSE(0 3 {t_conv_begin} 1n 1n {t_conv_period} {t_period} 1)
SYMATTR InstName V5
SYMBOL sw 336 624 R0
SYMATTR InstName S4
SYMBOL sw 592 640 R0
SYMATTR InstName S5
SYMBOL COM_SPDT 832 976 R270
WINDOW 0 48 -64 Invisible 2
SYMATTR InstName X1
SYMBOL COM_CAP 592 496 R180
WINDOW 0 32 16 Center 2
WINDOW 3 -28 0 VBottom 2
SYMATTR InstName X2
SYMATTR Value C={1*c_lsb}
SYMBOL COM_CAP 336 480 R180
WINDOW 0 32 16 Center 2
WINDOW 3 -28 0 VBottom 2
SYMATTR InstName X3
SYMATTR Value C={2*c_lsb}
SYMBOL COM_SPDT 336 944 R270
WINDOW 0 48 -64 Invisible 2
SYMATTR InstName X4
SYMBOL COM_SPDT 592 960 R270
WINDOW 0 48 -64 Invisible 2
SYMATTR InstName X5
SYMBOL sw 80 624 R0
SYMATTR InstName S2
SYMBOL COM_CAP 80 480 R180
WINDOW 0 32 16 Center 2
WINDOW 3 -28 0 VBottom 2
SYMATTR InstName X6
SYMATTR Value C={4*c_lsb}
SYMBOL COM_SPDT 80 944 R270
WINDOW 0 48 -64 Invisible 2
SYMATTR InstName X7
SYMBOL sw -192 624 R0
SYMATTR InstName S3
SYMBOL COM_CAP -192 480 R180
WINDOW 0 32 16 Center 2
WINDOW 3 -28 0 VBottom 2
SYMATTR InstName X8
SYMATTR Value C={8*c_lsb}
SYMBOL COM_SPDT -192 944 R270
WINDOW 0 48 -64 Invisible 2
SYMATTR InstName X9
SYMBOL sw -432 624 R0
SYMATTR InstName S6
SYMBOL COM_CAP -432 480 R180
WINDOW 0 32 16 Center 2
WINDOW 3 -28 0 VBottom 2
SYMATTR InstName X10
SYMATTR Value C={16*c_lsb}
SYMBOL COM_SPDT -432 944 R270
WINDOW 0 48 -64 Invisible 2
SYMATTR InstName X11
SYMBOL sw -688 624 R0
SYMATTR InstName S7
SYMBOL COM_CAP -688 480 R180
WINDOW 0 32 16 Center 2
WINDOW 3 -28 0 VBottom 2
SYMATTR InstName X12
SYMATTR Value C={32*c_lsb}
SYMBOL COM_SPDT -688 944 R270
WINDOW 0 48 -64 Invisible 2
SYMATTR InstName X13
SYMBOL sw -928 624 R0
SYMATTR InstName S8
SYMBOL COM_CAP -928 480 R180
WINDOW 0 32 16 Center 2
WINDOW 3 -28 0 VBottom 2
SYMATTR InstName X14
SYMATTR Value C={64*c_lsb}
SYMBOL COM_SPDT -928 944 R270
WINDOW 0 48 -64 Invisible 2
SYMATTR InstName X15
SYMBOL sw -1184 608 R0
SYMATTR InstName S9
SYMBOL COM_CAP -1184 464 R180
WINDOW 0 32 16 Center 2
WINDOW 3 -28 0 VBottom 2
SYMATTR InstName X16
SYMATTR Value C={128*c_lsb}
SYMBOL COM_SPDT -1184 928 R270
WINDOW 0 48 -64 Invisible 2
SYMATTR InstName X17
SYMBOL SENSOR_CAP 976 624 R0
WINDOW 39 0 0 Invisible 2
SYMATTR InstName Csensor
SYMATTR SpiceLine Cbase=10n
SYMBOL voltage 928 688 R0
SYMATTR InstName V6
SYMATTR Value 1
SYMBOL COM_SAR 1536 624 R0
WINDOW 0 8 -136 Bottom 2
WINDOW 39 0 0 Invisible 2
SYMATTR InstName X19
SYMATTR SpiceLine T_CONV_BEGIN={t_conv_begin}, T_CONV_PERIOD={t_conv_period}
SYMBOL COM_Comparator 1328 384 R0
SYMATTR InstName Comparator
SYMBOL voltage 1232 448 R0
SYMATTR InstName V7
SYMATTR Value 1
TEXT 1048 2168 Left 2 !;ANALYSIS commands\n.tran {1m} {10m}
TEXT 1040 2040 Left 2 !;MODEL Definitions\n.model SW SW(Ron=5 Roff=10g Vt=0.5 Vh=0)
TEXT 1040 1832 Left 2 !;TIMING\n.param t_period 3m\n.param t_on 0.5m\n.param t_offset 0.1m\n.param t_delay 1m\n.param t_conv_begin {t_delay+t_on+t_offset*1.05}\n.param t_conv_period {t_period+t_offset-t_on}
TEXT 1040 1720 Left 2 !;BASE capacitance values\n.param c_lsb 10n
TEXT 320 1504 Left 5 ;TIMING
TEXT 1040 1624 Left 5 ;SPICE DIRECTIVES
RECTANGLE Normal 948 1588 1668 2280 2
RECTANGLE Normal 676 2284 132 1448 2
