Version 4
SHEET 1 4896 2624
WIRE -432 -544 -432 -560
WIRE 768 -544 768 -592
WIRE 864 -544 864 -592
WIRE 960 -544 960 -592
WIRE 1056 -544 1056 -592
WIRE 1152 -544 1152 -592
WIRE 1248 -544 1248 -592
WIRE 1344 -544 1344 -592
WIRE 1440 -544 1440 -592
WIRE -432 -464 -432 -544
WIRE 768 -384 768 -464
WIRE 864 -384 864 -464
WIRE 960 -384 960 -464
WIRE 1056 -384 1056 -464
WIRE 1152 -384 1152 -464
WIRE 1248 -384 1248 -464
WIRE 1344 -384 1344 -464
WIRE 1440 -384 1440 -464
WIRE -432 -320 -432 -384
WIRE 832 -160 832 -192
WIRE 832 -128 832 -160
WIRE 1200 -112 1152 -112
WIRE 768 -96 720 -96
WIRE 1200 -96 896 -96
WIRE 1360 -96 1264 -96
WIRE 1344 -64 1264 -64
WIRE -944 -48 -1056 -48
WIRE 1216 -16 1216 -48
WIRE -368 0 -368 -16
WIRE 96 0 96 -16
WIRE 1088 16 1088 -16
WIRE -944 32 -1056 32
WIRE -368 48 -368 0
WIRE 96 48 96 0
WIRE 832 48 832 32
WIRE 1088 48 1088 16
WIRE -432 80 -480 80
WIRE -224 80 -304 80
WIRE 32 80 -16 80
WIRE 240 80 160 80
WIRE 832 80 832 48
WIRE 992 80 976 80
WIRE 1024 80 992 80
WIRE 1200 80 1152 80
WIRE 1360 96 1264 96
WIRE 768 112 720 112
WIRE 1200 112 896 112
WIRE -368 160 -368 144
WIRE 96 160 96 144
WIRE 1216 192 1216 144
WIRE -368 208 -368 160
WIRE 96 208 96 160
WIRE 1216 208 1216 192
WIRE 1088 224 1088 192
WIRE -432 240 -480 240
WIRE -224 240 -304 240
WIRE 32 240 -16 240
WIRE 240 240 160 240
WIRE 832 256 832 240
WIRE 1088 256 1088 224
WIRE 832 288 832 256
WIRE 992 288 976 288
WIRE 1024 288 992 288
WIRE 1200 288 1152 288
WIRE 1360 304 1264 304
WIRE 768 320 720 320
WIRE 1200 320 896 320
WIRE -368 352 -368 336
WIRE 96 352 96 336
WIRE 1216 384 1216 352
WIRE -1072 400 -1184 400
WIRE -1056 400 -1072 400
WIRE -848 400 -960 400
WIRE -368 400 -368 352
WIRE 96 400 96 352
WIRE 1216 416 1216 384
WIRE -432 432 -480 432
WIRE -224 432 -304 432
WIRE 32 432 -16 432
WIRE 240 432 160 432
WIRE -1184 448 -1184 400
WIRE -960 448 -960 400
WIRE 1088 448 1088 416
WIRE 832 480 832 464
WIRE 1088 480 1088 448
WIRE -368 512 -368 496
WIRE 96 512 96 496
WIRE 832 512 832 480
WIRE 992 512 976 512
WIRE 1024 512 992 512
WIRE 1200 512 1152 512
WIRE 1360 528 1264 528
WIRE 768 544 720 544
WIRE 1200 544 896 544
WIRE -368 560 -368 512
WIRE 96 560 96 512
WIRE -1184 592 -1184 528
WIRE -960 592 -960 528
WIRE -432 592 -480 592
WIRE -224 592 -304 592
WIRE 32 592 -16 592
WIRE 240 592 160 592
WIRE 1216 624 1216 576
WIRE 1216 640 1216 624
WIRE 1088 656 1088 624
WIRE 832 688 832 672
WIRE 1088 688 1088 656
WIRE 832 720 832 688
WIRE 992 720 976 720
WIRE 1024 720 992 720
WIRE 1200 720 1152 720
WIRE 1360 736 1264 736
WIRE 768 752 720 752
WIRE 1200 752 896 752
WIRE 1216 832 1216 784
WIRE 1216 848 1216 832
WIRE 1088 880 1088 848
WIRE 832 912 832 896
WIRE 1088 912 1088 880
WIRE 832 944 832 912
WIRE 992 944 976 944
WIRE 1024 944 992 944
WIRE 1200 944 1152 944
WIRE 1360 960 1264 960
WIRE 768 976 720 976
WIRE 1200 976 896 976
WIRE 1216 1056 1216 1008
WIRE 1216 1072 1216 1056
WIRE -560 1104 -560 1088
WIRE -464 1104 -464 1088
WIRE -368 1104 -368 1088
WIRE -272 1104 -272 1088
WIRE -176 1104 -176 1088
WIRE -80 1104 -80 1088
WIRE 16 1104 16 1088
WIRE 112 1104 112 1088
WIRE 208 1104 208 1088
WIRE 1088 1104 1088 1072
WIRE 832 1136 832 1120
WIRE 1088 1136 1088 1104
WIRE 832 1168 832 1136
WIRE 992 1168 976 1168
WIRE 1024 1168 992 1168
WIRE 1200 1168 1152 1168
WIRE -560 1184 -560 1104
WIRE -464 1184 -464 1104
WIRE -368 1184 -368 1104
WIRE -272 1184 -272 1104
WIRE -176 1184 -176 1104
WIRE -80 1184 -80 1104
WIRE 16 1184 16 1104
WIRE 112 1184 112 1104
WIRE 208 1184 208 1104
WIRE 1360 1184 1264 1184
WIRE 768 1200 720 1200
WIRE 1200 1200 896 1200
WIRE 1216 1264 1216 1232
WIRE 1216 1280 1216 1264
WIRE 1088 1312 1088 1280
WIRE -560 1328 -560 1264
WIRE -464 1328 -464 1264
WIRE -368 1328 -368 1264
WIRE -272 1328 -272 1264
WIRE -176 1328 -176 1264
WIRE -80 1328 -80 1264
WIRE 16 1328 16 1264
WIRE 112 1328 112 1264
WIRE 208 1328 208 1264
WIRE 832 1344 832 1328
WIRE 1088 1344 1088 1312
WIRE 832 1376 832 1344
WIRE 1024 1376 976 1376
WIRE 1200 1376 1152 1376
WIRE 1360 1392 1264 1392
WIRE 768 1408 720 1408
WIRE 1200 1408 896 1408
WIRE 1216 1488 1216 1440
WIRE 1216 1504 1216 1488
FLAG -176 1328 0
FLAG -176 1104 CLK4
FLAG -80 1328 0
FLAG -80 1104 CLK5
FLAG 16 1328 0
FLAG 16 1104 CLK6
FLAG 112 1328 0
FLAG 112 1104 CLK7
FLAG -560 1328 0
FLAG -560 1104 CLK0
FLAG -464 1328 0
FLAG -464 1104 CLK1
FLAG -368 1328 0
FLAG -368 1104 CLK2
FLAG -272 1328 0
FLAG -272 1104 CLK3
FLAG -432 -320 0
FLAG -432 -544 Vref
FLAG -16 432 COMP
FLAG 96 352 CLK6
FLAG 240 432 COMP6
FLAG -16 592 COMP
FLAG 96 512 CLK7
FLAG 240 592 COMP7
FLAG -480 432 COMP
FLAG -368 352 CLK2
FLAG -224 432 COMP2
FLAG -480 592 COMP
FLAG -368 512 CLK3
FLAG -224 592 COMP3
FLAG -16 80 COMP
FLAG 96 0 CLK4
FLAG 240 80 COMP4
FLAG -16 240 COMP
FLAG 96 160 CLK5
FLAG 240 240 COMP5
FLAG -480 80 COMP
FLAG -368 0 CLK0
FLAG -224 80 COMP0
FLAG -480 240 COMP
FLAG -368 160 CLK1
FLAG -224 240 COMP1
FLAG 1360 -96 b7
IOPIN 1360 -96 Out
FLAG 1152 -112 Vref
FLAG 720 -96 COMP0
FLAG 832 -160 CLK1
FLAG 1360 96 b6
IOPIN 1360 96 Out
FLAG 720 112 COMP1
FLAG 832 48 CLK2
FLAG 1088 16 CLK1
FLAG 1360 304 b5
IOPIN 1360 304 Out
FLAG 720 320 COMP2
FLAG 832 256 CLK3
FLAG 1088 224 CLK2
FLAG 1360 528 b4
IOPIN 1360 528 Out
FLAG 720 544 COMP3
FLAG 832 480 CLK4
FLAG 1088 448 CLK3
FLAG 1360 736 b3
IOPIN 1360 736 Out
FLAG 720 752 COMP4
FLAG 832 688 CLK5
FLAG 1088 656 CLK4
FLAG 1360 960 b2
IOPIN 1360 960 Out
FLAG 720 976 COMP5
FLAG 832 912 CLK6
FLAG 1088 880 CLK5
FLAG 1360 1184 b1
IOPIN 1360 1184 Out
FLAG 720 1200 COMP6
FLAG 832 1136 CLK7
FLAG 1088 1104 CLK6
FLAG 1360 1392 b0
IOPIN 1360 1392 Out
FLAG 1088 1312 CLK7
FLAG 992 80 Vref
FLAG 992 288 Vref
FLAG 992 512 Vref
FLAG 992 720 Vref
FLAG 992 944 Vref
FLAG 992 1168 Vref
FLAG 768 -384 0
FLAG 768 -592 OFF0
FLAG 864 -384 0
FLAG 864 -592 OFF1
FLAG 960 -384 0
FLAG 960 -592 OFF2
FLAG 1056 -384 0
FLAG 1056 -592 OFF3
FLAG 1152 -384 0
FLAG 1152 -592 OFF4
FLAG 1248 -384 0
FLAG 1248 -592 OFF5
FLAG 1344 -384 0
FLAG 1344 -592 OFF6
FLAG 1440 -384 0
FLAG 1440 -592 OFF7
FLAG 1216 -16 OFF0
FLAG 1216 192 OFF1
FLAG 1216 384 OFF2
FLAG 1216 624 OFF3
FLAG 1216 832 OFF4
FLAG 1216 1056 OFF5
FLAG 1216 1264 OFF6
FLAG 1216 1488 OFF7
FLAG -1184 592 0
FLAG -1072 400 COMP_
FLAG -960 592 0
FLAG -848 400 P
FLAG -1056 32 CMP
IOPIN -1056 32 In
FLAG -944 32 COMP
FLAG -1056 -48 RST
IOPIN -1056 -48 In
FLAG 208 1328 0
FLAG 208 1104 CLK8
FLAG 976 1376 Vref
FLAG 720 1408 COMP7
FLAG 832 1344 CLK8
SYMBOL voltage -176 1168 R0
WINDOW 3 24 96 Invisible 2
SYMATTR Value PULSE(0 1 {t_delay+4*t_on} {t_risefall} {t_risefall} {t_on} {t_period} 1)
SYMATTR InstName V2
SYMBOL voltage -80 1168 R0
WINDOW 3 24 96 Invisible 2
SYMATTR Value PULSE(0 1 {t_delay+5*t_on} {t_risefall} {t_risefall} {t_on} {t_period} 1)
SYMATTR InstName V3
SYMBOL voltage 16 1168 R0
WINDOW 3 24 96 Invisible 2
SYMATTR Value PULSE(0 1 {t_delay+6*t_on} {t_risefall} {t_risefall} {t_on} {t_period} 1)
SYMATTR InstName V4
SYMBOL voltage 112 1168 R0
WINDOW 3 24 96 Invisible 2
SYMATTR Value PULSE(0 1 {t_delay+7*t_on} {t_risefall} {t_risefall} {t_on} {t_period} 1)
SYMATTR InstName V5
SYMBOL voltage -560 1168 R0
WINDOW 3 24 96 Invisible 2
SYMATTR Value PULSE(0 1 {t_delay} {t_risefall} {t_risefall} {t_on} {t_period} 1)
SYMATTR InstName V6
SYMBOL voltage -464 1168 R0
WINDOW 3 24 96 Invisible 2
SYMATTR Value PULSE(0 1 {t_delay+t_on} {t_risefall} {t_risefall} {t_on} {t_period} 1)
SYMATTR InstName V7
SYMBOL voltage -368 1168 R0
WINDOW 3 24 96 Invisible 2
SYMATTR Value PULSE(0 1 {t_delay+2*t_on} {t_risefall} {t_risefall} {t_on} {t_period} 1)
SYMATTR InstName V8
SYMBOL voltage -272 1168 R0
WINDOW 3 24 96 Invisible 2
SYMATTR Value PULSE(0 1 {t_delay+3*t_on} {t_risefall} {t_risefall} {t_on} {t_period} 1)
SYMATTR InstName V9
SYMBOL voltage -432 -480 R0
WINDOW 3 50 62 Center 2
SYMATTR Value 1
SYMATTR InstName V10
SYMBOL COM_SampleAndHold 96 448 R0
WINDOW 0 0 -56 Invisible 2
WINDOW 39 0 0 Invisible 2
SYMATTR InstName X1
SYMATTR SpiceLine C={c_hold}, IC=0
SYMBOL COM_SampleAndHold 96 608 R0
WINDOW 0 0 -56 Invisible 2
WINDOW 39 0 0 Invisible 2
SYMATTR InstName X2
SYMATTR SpiceLine C={c_hold}, IC=0
SYMBOL COM_SampleAndHold -368 448 R0
WINDOW 0 0 -56 Invisible 2
WINDOW 39 0 0 Invisible 2
SYMATTR InstName X3
SYMATTR SpiceLine C={c_hold}, IC=0
SYMBOL COM_SampleAndHold -368 608 R0
WINDOW 0 0 -56 Invisible 2
WINDOW 39 0 0 Invisible 2
SYMATTR InstName X4
SYMATTR SpiceLine C={c_hold}, IC=0
SYMBOL COM_SampleAndHold 96 96 R0
WINDOW 0 0 -56 Invisible 2
WINDOW 39 0 0 Invisible 2
SYMATTR InstName X5
SYMATTR SpiceLine C={c_hold}, IC=0
SYMBOL COM_SampleAndHold 96 256 R0
WINDOW 0 0 -56 Invisible 2
WINDOW 39 0 0 Invisible 2
SYMATTR InstName X6
SYMATTR SpiceLine C={c_hold}, IC=0
SYMBOL COM_SampleAndHold -368 96 R0
WINDOW 0 0 -56 Invisible 2
WINDOW 39 0 0 Invisible 2
SYMATTR InstName X7
SYMATTR SpiceLine C={c_hold}, IC=0
SYMBOL COM_SampleAndHold -368 256 R0
WINDOW 0 0 -56 Invisible 2
WINDOW 39 0 0 Invisible 2
SYMATTR InstName X8
SYMATTR SpiceLine C={c_hold}, IC=0
SYMBOL Digital/and 1232 -144 R0
SYMATTR InstName A2
SYMBOL COM_SampleAndHold 832 -80 R0
WINDOW 0 0 -56 Invisible 2
WINDOW 39 0 0 Invisible 2
SYMATTR InstName X10
SYMATTR SpiceLine C={c_hold}, IC=1
SYMBOL Digital/and 1232 48 R0
SYMATTR InstName A11
SYMBOL COM_SampleAndHold 1088 96 R0
WINDOW 0 0 -56 Invisible 2
WINDOW 39 0 0 Invisible 2
SYMATTR InstName X12
SYMATTR SpiceLine C={c_hold}, IC=0
SYMBOL COM_SampleAndHold 832 128 R0
WINDOW 0 0 -56 Invisible 2
WINDOW 39 0 0 Invisible 2
SYMATTR InstName X13
SYMATTR SpiceLine C={c_hold}, IC=1
SYMBOL Digital/and 1232 256 R0
SYMATTR InstName A13
SYMBOL COM_SampleAndHold 1088 304 R0
WINDOW 0 0 -56 Invisible 2
WINDOW 39 0 0 Invisible 2
SYMATTR InstName X17
SYMATTR SpiceLine C={c_hold}, IC=0
SYMBOL COM_SampleAndHold 832 336 R0
WINDOW 0 0 -56 Invisible 2
WINDOW 39 0 0 Invisible 2
SYMATTR InstName X18
SYMATTR SpiceLine C={c_hold}, IC=1
SYMBOL Digital/and 1232 480 R0
SYMATTR InstName A15
SYMBOL COM_SampleAndHold 1088 528 R0
WINDOW 0 0 -56 Invisible 2
WINDOW 39 0 0 Invisible 2
SYMATTR InstName X19
SYMATTR SpiceLine C={c_hold}, IC=0
SYMBOL COM_SampleAndHold 832 560 R0
WINDOW 0 0 -56 Invisible 2
WINDOW 39 0 0 Invisible 2
SYMATTR InstName X20
SYMATTR SpiceLine C={c_hold}, IC=1
SYMBOL Digital/and 1232 688 R0
SYMATTR InstName A17
SYMBOL COM_SampleAndHold 1088 736 R0
WINDOW 0 0 -56 Invisible 2
WINDOW 39 0 0 Invisible 2
SYMATTR InstName X21
SYMATTR SpiceLine C={c_hold}, IC=0
SYMBOL COM_SampleAndHold 832 768 R0
WINDOW 0 0 -56 Invisible 2
WINDOW 39 0 0 Invisible 2
SYMATTR InstName X22
SYMATTR SpiceLine C={c_hold}, IC=1
SYMBOL Digital/and 1232 912 R0
SYMATTR InstName A23
SYMBOL COM_SampleAndHold 1088 960 R0
WINDOW 0 0 -56 Invisible 2
WINDOW 39 0 0 Invisible 2
SYMATTR InstName X23
SYMATTR SpiceLine C={c_hold}, IC=0
SYMBOL COM_SampleAndHold 832 992 R0
WINDOW 0 0 -56 Invisible 2
WINDOW 39 0 0 Invisible 2
SYMATTR InstName X24
SYMATTR SpiceLine C={c_hold}, IC=1
SYMBOL Digital/and 1232 1136 R0
SYMATTR InstName A25
SYMBOL COM_SampleAndHold 1088 1184 R0
WINDOW 0 0 -56 Invisible 2
WINDOW 39 0 0 Invisible 2
SYMATTR InstName X25
SYMATTR SpiceLine C={c_hold}, IC=0
SYMBOL COM_SampleAndHold 832 1216 R0
WINDOW 0 0 -56 Invisible 2
WINDOW 39 0 0 Invisible 2
SYMATTR InstName X26
SYMATTR SpiceLine C={c_hold}, IC=1
SYMBOL Digital/and 1232 1344 R0
SYMATTR InstName A27
SYMBOL COM_SampleAndHold 1088 1392 R0
WINDOW 0 0 -56 Invisible 2
WINDOW 39 0 0 Invisible 2
SYMATTR InstName X27
SYMATTR SpiceLine C={c_hold}, IC=0
SYMBOL voltage 768 -560 R0
WINDOW 3 24 96 Invisible 2
SYMATTR Value {-0*SAR_Voffset}
SYMATTR InstName V16
SYMBOL voltage 864 -560 R0
WINDOW 3 24 96 Invisible 2
SYMATTR Value {-1*SAR_Voffset}
SYMATTR InstName V17
SYMBOL voltage 960 -560 R0
WINDOW 3 24 96 Invisible 2
SYMATTR Value {-2*SAR_Voffset}
SYMATTR InstName V18
SYMBOL voltage 1056 -560 R0
WINDOW 3 24 96 Invisible 2
SYMATTR Value {-3*SAR_Voffset}
SYMATTR InstName V19
SYMBOL voltage 1152 -560 R0
WINDOW 3 24 96 Invisible 2
SYMATTR Value {-4*SAR_Voffset}
SYMATTR InstName V20
SYMBOL voltage 1248 -560 R0
WINDOW 3 24 96 Invisible 2
SYMATTR Value {-5*SAR_Voffset}
SYMATTR InstName V21
SYMBOL voltage 1344 -560 R0
WINDOW 3 24 96 Invisible 2
SYMATTR Value {-6*SAR_Voffset}
SYMATTR InstName V22
SYMBOL voltage 1440 -560 R0
WINDOW 3 24 96 Invisible 2
SYMATTR Value {-7*SAR_Voffset}
SYMATTR InstName V23
SYMBOL voltage -1184 432 R0
WINDOW 3 24 96 Invisible 2
SYMATTR Value PULSE(2 1.01 {t_delay} 1n 1n {2*t_on} {4*t_on} 4)
SYMATTR InstName V1
SYMBOL voltage -960 432 R0
WINDOW 3 40 115 Center 2
SYMATTR Value PWL(1m 1 +1m 0 +1m 1 +1m 0)
SYMATTR InstName V11
SYMBOL voltage 208 1168 R0
WINDOW 3 24 96 Invisible 2
SYMATTR Value PULSE(0 1 {t_delay+8*t_on} {t_risefall} {t_risefall} {t_on} {t_period} 1)
SYMATTR InstName V12
SYMBOL COM_SampleAndHold 832 1424 R0
WINDOW 0 0 -56 Invisible 2
WINDOW 39 0 0 Invisible 2
SYMATTR InstName X9
SYMATTR SpiceLine C={c_hold}, IC=1
TEXT -368 1392 Left 2 !;TIMINGS\n.param t_risefall 0.01p\n.param t_delay {T_CONV_BEGIN}\n.param t_conv_period {T_CONV_PERIOD}\n.param Nbits 8\n.param t_on {t_conv_period/(Nbits*1.1)}
TEXT -264 672 Left 2 !; HOLD Capacitor Capacitance\n.param c_hold 0.1p
TEXT 1000 -720 Left 2 !; OFFSET Voltage on the SAR Output\n.param SAR_Voffset 0.05
TEXT 1448 -88 Left 5 ;MSB
TEXT 1440 1416 Left 5 ;LSB
TEXT -328 -520 Left 2 !;Reference Parameters and Model Definitions\n.param vref 1\n.ic V(c0_ic)=0\n.model SW SW(Ron=0.01 Roff=10g Vt=0.5 Vh=0)\n.lib opamp.sub\n.tran 1n 10n
TEXT -72 -128 Center 5 ;Sampled Comparator Readings
TEXT -1184 648 Left 2 !.param t1 {t_on+t_delay}\n.param t1_delay {t1+0.01*t_on}\n.param t2 {2*t_on+t_delay}
TEXT -984 288 Center 5 ;Test Bench
TEXT -1000 -152 Center 5 ;Inputs
TEXT -200 992 Center 5 ;Clocks
RECTANGLE Normal 588 -232 1608 1540 2
RECTANGLE Normal 648 -324 1572 -796 2
RECTANGLE Normal -616 -272 416 -648 2
RECTANGLE Normal -612 -196 412 748 2
RECTANGLE Normal -1260 -200 -748 80 2
RECTANGLE Normal -704 744 -1272 240 2
